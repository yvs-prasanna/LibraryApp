{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import\"./index.css\";import{useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookDetails=props=>{const[data,setData]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{// Define an async function to fetch data\nconst fetchData=async()=>{try{const response=await fetch(\"https://freetestapi.com/api/v1/books\");// Replace with your API endpoint\nif(!response.ok){throw new Error(\"Failed to fetch data\");}const result=await response.json();// Parse the JSON data\nsetData(result);// Update the state with fetched data\n}catch(error){setError(error.message);// Set error if fetch fails\n}finally{setLoading(false);// Set loading to false after data is fetched\n}};fetchData();// Call the fetch function when the component mounts\n},[]);const{id}=useParams();const bookId=parseInt(id);const filteredBook=data.filter(each=>each.id===bookId);const reqObj=filteredBook[0];if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{children:error});return/*#__PURE__*/_jsx(\"div\",{className:\"whole-block\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"book-details-container\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"book-image\",children:/*#__PURE__*/_jsx(\"img\",{src:reqObj.cover_image,alt:\"Book Cover\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"book-info\",children:[/*#__PURE__*/_jsx(\"h1\",{class:\"book-title\",children:reqObj.title}),/*#__PURE__*/_jsxs(\"h3\",{class:\"book-author\",children:[\"by \",reqObj.author]}),/*#__PURE__*/_jsx(\"p\",{class:\"book-description\",children:reqObj.description}),/*#__PURE__*/_jsxs(\"div\",{class:\"book-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Genre:\"}),\" \",reqObj.genre[0]]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Published:\"}),\" \",reqObj.publication_year]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ISBN:\"}),\" 978-0743273565\"]})]})]})]})});};export default BookDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","jsx","_jsx","jsxs","_jsxs","BookDetails","props","data","setData","loading","setLoading","error","setError","fetchData","response","fetch","ok","Error","result","json","message","id","bookId","parseInt","filteredBook","filter","each","reqObj","children","className","class","src","cover_image","alt","title","author","description","genre","publication_year"],"sources":["C:/Personal/React Projects/flaerhome/my-frontend/src/components/BookDetails/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport \"./index.css\";\r\n\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst BookDetails = (props) => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Define an async function to fetch data\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(\"https://freetestapi.com/api/v1/books\"); // Replace with your API endpoint\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch data\");\r\n        }\r\n        const result = await response.json(); // Parse the JSON data\r\n        setData(result); // Update the state with fetched data\r\n      } catch (error) {\r\n        setError(error.message); // Set error if fetch fails\r\n      } finally {\r\n        setLoading(false); // Set loading to false after data is fetched\r\n      }\r\n    };\r\n\r\n    fetchData(); // Call the fetch function when the component mounts\r\n  }, []);\r\n\r\n  const { id } = useParams();\r\n  const bookId = parseInt(id);\r\n  const filteredBook = data.filter((each) => each.id === bookId);\r\n  const reqObj = filteredBook[0];\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>{error}</div>;\r\n\r\n  return (\r\n    <div className=\"whole-block\">\r\n      <div class=\"book-details-container\">\r\n        <div class=\"book-image\">\r\n          <img src={reqObj.cover_image} alt=\"Book Cover\" />\r\n        </div>\r\n        <div class=\"book-info\">\r\n          <h1 class=\"book-title\">{reqObj.title}</h1>\r\n          <h3 class=\"book-author\">by {reqObj.author}</h3>\r\n          <p class=\"book-description\">{reqObj.description}</p>\r\n          <div class=\"book-details\">\r\n            <p>\r\n              <strong>Genre:</strong> {reqObj.genre[0]}\r\n            </p>\r\n            <p>\r\n              <strong>Published:</strong> {reqObj.publication_year}\r\n            </p>\r\n            <p>\r\n              <strong>ISBN:</strong> 978-0743273565\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}